(function(){"use strict";var t={568:function(t,e,n){var o=n(963),a=n(252);function r(t,e){const n=(0,a.up)("router-view");return(0,a.wg)(),(0,a.j4)(n)}var i=n(744);const s={},l=(0,i.Z)(s,[["render",r]]);var c=l,u=n(201);const d=t=>((0,a.dD)("data-v-6633ed93"),t=t(),(0,a.Cn)(),t),p={class:"main-wrap"},m=d((()=>(0,a._)("div",{class:"title"},[(0,a._)("h1",null,"인공지능 웹툰 번역기"),(0,a._)("h2",null,"인공지능이 웹툰의 대사를 인식하고 직접 번역까지 해줍니다.")],-1))),g={class:"start-wrap"},h=d((()=>(0,a._)("label",{class:"start btn",for:"get-webtoon-image"},"시작하기",-1)));function v(t,e,n,o,r,i){return(0,a.wg)(),(0,a.iD)("div",p,[(0,a._)("main",null,[m,(0,a._)("div",g,[h,(0,a._)("input",{type:"file",name:"webtoon-image",id:"get-webtoon-image",onChange:e[0]||(e[0]=(...t)=>i.getFile&&i.getFile(...t)),multiple:"",accept:"image/*"},null,32)])])])}var f={name:"MainView",data(){return{}},methods:{getFile(t){let e=Array.from(t.target.files),n=[];for(let o=0;o<e.length;o++)n.push({id:o,preViewUrl:URL.createObjectURL(e[o]),file:e[o]});this.$store.commit("setUploadWebtoonList",n),this.$router.push({name:"sort"})}}};const w=(0,i.Z)(f,[["render",v],["__scopeId","data-v-6633ed93"]]);var _=w,b=n(577);const $=t=>((0,a.dD)("data-v-7160c8d6"),t=t(),(0,a.Cn)(),t),y={class:"content-wrap"},O={class:"content"},L=$((()=>(0,a._)("div",{class:"title-wrap"},[(0,a._)("h1",null,"웹툰 이미지 순서 변경"),(0,a._)("h2",null,"드래그를 통해서 이미지의 순서를 변경해주세요.")],-1))),S={class:"webtoon-list"};function x(t,e,n,o,r,i){const s=(0,a.up)("draggable"),l=(0,a.up)("LoadingModal");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",y,[(0,a._)("div",O,[L,(0,a._)("ul",S,[(0,a.Wm)(s,{"v-model":i.webtoonList,list:i.webtoonList,disabled:!r.enabled,"item-key":"name",class:"list-group","ghost-class":"ghost",move:i.checkMove,onStart:e[0]||(e[0]=t=>r.dragging=!0),onEnd:e[1]||(e[1]=t=>r.dragging=!1)},{item:(0,a.w5)((({element:t})=>[(0,a._)("li",{class:(0,b.C_)(["webtoon-list-item",{"not-draggable":!r.enabled}])},[(0,a._)("div",{class:"webtoon-img",style:(0,b.j5)({backgroundImage:`url(${t.preViewUrl})`})},null,4),(0,a._)("h3",null,(0,b.zw)(t.file.name),1)],2)])),_:1},8,["v-model","list","disabled","move"])]),(0,a._)("button",{onClick:e[2]||(e[2]=(...t)=>i.next&&i.next(...t))},"확인")])]),r.uploading?((0,a.wg)(),(0,a.j4)(l,{key:0,title:"업로드 중"})):(0,a.kq)("",!0)],64)}var R=n(980),T=n.n(R),U=n(154);const k=t=>((0,a.dD)("data-v-2aae9fd8"),t=t(),(0,a.Cn)(),t),W={class:"loading-wrap"},j={class:"loading-model"},C=k((()=>(0,a._)("h2",null,"잠시만 기다려주세요",-1))),D=k((()=>(0,a._)("div",{class:"lds-dual-ring"},null,-1)));function M(t,e,n,o,r,i){return(0,a.wg)(),(0,a.iD)("div",W,[(0,a._)("div",j,[(0,a._)("h1",null,(0,b.zw)(n.title),1),C,D])])}var V={name:"LoadingModal",props:{title:String}};const E=(0,i.Z)(V,[["render",M],["__scopeId","data-v-2aae9fd8"]]);var Z=E,I={name:"SortView",data(){return{enabled:!0,dragging:!1,uploading:!1}},computed:{webtoonList:{get(){return this.$store.state.uploadWebtoonList},set(t){this.$store.commit("setUploadWebtoonList",t)}}},mounted(){console.log(this.webtoonList)},methods:{checkMove:function(t){window.console.log("Future index: "+t.draggedContext.futureIndex)},next:async function(){const t={"Content-Type":"multipart/form-data"},e=new FormData;for(let n=0;n<this.$store.state.uploadWebtoonList.length;n++)e.append("fileList",this.$store.state.uploadWebtoonList[n].file);this.uploading=!0;await U.Z.post(`${this.$apiUrl}/imageOcr`,e,t).then((t=>{this.uploading=!1,this.$store.commit("setOcrResult",t.data.ocr),this.$store.commit("setOcrTimeStamp",t.data.timeStamp),this.$router.push({name:"OcrErrorEdit"})})).catch((t=>{this.uploading=!1,alert("에러 유감 ㅠ"),console.log(t)}))}},components:{LoadingModal:Z,draggable:T()}};const F=(0,i.Z)(I,[["render",x],["__scopeId","data-v-7160c8d6"]]);var P=F;const A=t=>((0,a.dD)("data-v-3ca80708"),t=t(),(0,a.Cn)(),t),H={class:"content-wrap"},Y={class:"content"},q=A((()=>(0,a._)("div",{class:"title-wrap"},[(0,a._)("h1",null,"이미지 오타 수정"),(0,a._)("h2",null,"Ai가 인식한 잘못된 대사를 수정해주세요.")],-1))),z={class:"webtoon-list-wrap list-wrap"},K={class:"webtoon-list"},B=["src"],G={class:"text-list-wrap list-wrap"},J={class:"text-list"},N=["onUpdate:modelValue","placeholder"];function Q(t,e,n,r,i,s){const l=(0,a.up)("LoadingModal");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",H,[(0,a._)("div",Y,[q,(0,a._)("main",null,[(0,a._)("div",z,[(0,a._)("div",K,[(0,a._)("img",{src:`${t.$apiUrl}/ocr/${s.timeStamp}.png`},null,8,B)])]),(0,a._)("div",G,[(0,a._)("div",J,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.ocrResult,((t,e)=>(0,a.wy)(((0,a.wg)(),(0,a.iD)("input",{key:e,"onUpdate:modelValue":e=>t.text=e,placeholder:t.text},null,8,N)),[[o.nr,t.text]]))),128))])])]),(0,a._)("button",{onClick:e[0]||(e[0]=(...t)=>s.next&&s.next(...t))},"확인")])]),i.loading?((0,a.wg)(),(0,a.j4)(l,{key:0,title:"업로드 중"})):(0,a.kq)("",!0)],64)}var X={name:"OcrErrorEdit",data(){return{loading:!1}},mounted(){console.log(this.ocrResult)},methods:{async next(){this.loading=!0,console.log(this.ocrResult),await U.Z.post(this.$apiUrl+"/translate",{time_stamp:this.timeStamp,ocr:this.ocrResult}).then((t=>{this.loading=!1,console.log(t.data),this.$router.push({name:"ResultView"})})).catch((t=>{this.loading=!1,alert("에러 유감ㅠ")}))}},computed:{webtoonList:{get(){return this.$store.state.uploadWebtoonList},set(t){this.$store.commit("setUploadWebtoonList",t)}},ocrResult:{get(){return this.$store.state.ocrResult},set(t){this.$store.commit("setOcrResult",t)}},timeStamp:{get(){return this.$store.state.ocrTimeStamp}}},components:{LoadingModal:Z}};const tt=(0,i.Z)(X,[["render",Q],["__scopeId","data-v-3ca80708"]]);var et=tt;const nt=t=>((0,a.dD)("data-v-4082796e"),t=t(),(0,a.Cn)(),t),ot={class:"content-wrap"},at={class:"content"},rt=nt((()=>(0,a._)("div",{class:"title-wrap"},[(0,a._)("h1",null,"웹툰 번역 완료"),(0,a._)("h2",null,"Ai가 대사를 인식하고 번역까지 완료 했어요.")],-1))),it={class:"img-wrap"},st=nt((()=>(0,a._)("h3",null,"원본",-1))),lt=["src"],ct={class:"img-wrap"},ut=nt((()=>(0,a._)("h3",null,"번역",-1))),dt=["src"];function pt(t,e,n,o,r,i){return(0,a.wg)(),(0,a.iD)("div",ot,[(0,a._)("div",at,[rt,(0,a._)("main",null,[(0,a._)("div",it,[st,(0,a._)("img",{src:`${t.$apiUrl}/image/${i.timeStamp}.png`},null,8,lt)]),(0,a._)("div",ct,[ut,(0,a._)("img",{src:`${t.$apiUrl}/translate/${i.timeStamp}.png`},null,8,dt)])])])])}var mt={name:"ResultView",mounted(){console.log(this.$route.params.url)},data(){return{}},computed:{timeStamp:{get(){return this.$store.state.ocrTimeStamp}}}};const gt=(0,i.Z)(mt,[["render",pt],["__scopeId","data-v-4082796e"]]);var ht=gt;const vt=[{path:"/",name:"main",component:_},{path:"/sort",name:"sort",component:P},{path:"/edit",name:"OcrErrorEdit",component:et},{path:"/result",name:"ResultView",component:ht}],ft=(0,u.p7)({history:(0,u.PO)("/Webtoon-Translate/"),routes:vt});var wt=ft,_t=n(907),bt=(0,_t.MT)({state:{uploadWebtoonList:null,ocrResult:null,ocrTimeStamp:null},getters:{getUploadWebtoonList(t){return t.uploadWebtoonList},getOcrResult(t){return t.ocrResult},getOcrTimeStamp(t){return t.ocrTimeStamp}},mutations:{setUploadWebtoonList(t,e){t.uploadWebtoonList=e},setOcrResult(t,e){t.ocrResult=e},setOcrTimeStamp(t,e){t.ocrTimeStamp=e}},actions:{},modules:{}});const $t=(0,o.ri)(c);$t.config.globalProperties.$apiUrl="http://127.0.0.1:8000",$t.use(bt).use(wt).mount("#app")}},e={};function n(o){var a=e[o];if(void 0!==a)return a.exports;var r=e[o]={exports:{}};return t[o].call(r.exports,r,r.exports,n),r.exports}n.m=t,function(){var t=[];n.O=function(e,o,a,r){if(!o){var i=1/0;for(u=0;u<t.length;u++){o=t[u][0],a=t[u][1],r=t[u][2];for(var s=!0,l=0;l<o.length;l++)(!1&r||i>=r)&&Object.keys(n.O).every((function(t){return n.O[t](o[l])}))?o.splice(l--,1):(s=!1,r<i&&(i=r));if(s){t.splice(u--,1);var c=a();void 0!==c&&(e=c)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[o,a,r]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var a,r,i=o[0],s=o[1],l=o[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(l)var u=l(n)}for(e&&e(o);c<i.length;c++)r=i[c],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(u)},o=self["webpackChunkWebtoon_Translate"]=self["webpackChunkWebtoon_Translate"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(568)}));o=n.O(o)})();
//# sourceMappingURL=app.4be01698.js.map